{% extends 'base.html' %} {% block content %}
<!-- <form method="post" class="buttons">
  <h3>Enter The Chat Room</h3>
  <div>
    <label>asd123:</label>
    <input
      type="text"
      placeholder="Pick a name!"
      name="name"
      value="{{name}}"
    />
  </div>
  <div class="join">
    <input type="text" placeholder="Room Code" name="code" value="{{code}}" />
    <button type="submit" name="join">Join a Room</button>
  </div>
  <button type="submit" name="create" class="create-btn">Create a Room</button>
  {% if error %}
  <ul>
    <li>{{error}}</li>
  </ul>
  {% endif %}
</form> -->

<img src="{{ url_for('static', filename='images/home.png') }}" alt="Image" id="homePageImg">
<img src="{{ url_for('static', filename='images/undraw_Join_re_w1lh.png') }}" alt="Image" id="homePageImgextra">
<h3 id="homePageTitle">
    Unlock Healing<br>
    with the Comforts of Privacy
</h3>
<p id="homePageTitleDesc">
    With our list of certified therapists, choose to chat <br> with any who are online
    Or create your own room, <br>and converse with those who share similar experiences.
</p>
<button type="submit" id="createRoomButton">Get Started Now</button>

<button type="submit" onclick="redirectToNewPage()" id="doctorButton">Meet Our Doctors</button>



<div id="popup" class="popup">
   
    <div class="popup-content">
      <div class="popup-content-close-button" id="popup-content-close-button"></div>
      <h2>Join A Pre-existing Room <br/>or Create One Yourself!</h2>
      <form method="post" class="buttons">
      
      <div>
        <label>Enter A Name To Use:</label><br/><br/>
        <input
          type="text"
          placeholder="Pick a name!"
          name="name"
          value="{{name}}"
          
        />
      </div>
      <div class="join">
        <input type="text" placeholder="Enter A Room Code" name="code" value="{{code}}" /><br/>
        <button type="submit" name="join" >Join a Room</button>
      </div>
      <button type="submit" name="create" class="create-btn">Create a Room</button>
      {% if error %}
      <ul>
        <li>{{error}}</li>
      </ul>
      {% endif %}
    </form> 

    </div>
</div>





<!-- This is the chatbot section -->
<div id="chatBotButton" class="chat-toggle">
    <i class="fa-solid fa-robot fa-bounce"></i>
</div>
<div class="chat-popup">
    <div class="chat-container">
        <header class="chat-header">
            <h3>Chat</h3>
            <button class="chat-close">Close</button>
        </header>
        <div class="chat-messages">
            <!-- Chat messages go here -->
        </div>
        <div class="chat-input">
            <input type="text" placeholder="Type your message">
            <button class="chat-send">Send</button>
        </div>
    </div>
</div>


<script>

    var socket = io();

    socket.on('connect', function() {
        setInterval(function() {
            socket.emit('ping');
        }, 5000);  // Adjust the interval as needed
    });

    socket.on('pong', function() {
        // Optional: Add custom logic here if desired
    });

    document.addEventListener('DOMContentLoaded', function() {
        var chatToggle = document.querySelector('.chat-toggle');
        var chatPopup = document.querySelector('.chat-popup');
        var chatClose = document.querySelector('.chat-close');
    
        chatToggle.addEventListener('click', function() {
            chatPopup.style.display = 'block';
        });
    
        chatClose.addEventListener('click', function() {
            chatPopup.style.display = 'none';
        });
    });


    document.getElementById('createRoomButton').addEventListener('click', function() {
        document.getElementById('popup').style.display = 'block';
    });
    
    document.getElementById('popup-content-close-button').addEventListener('click', function() {
        document.getElementById('popup').style.display = 'none';
    });
    

    function redirectToNewPage() {
      window.location.href = "/doctor";
  }
    
    
</script>

{% endblock %}
